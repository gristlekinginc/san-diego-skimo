<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Action Journal</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <header>
        <h1>Action Journal</h1>
        <nav>
            <ul class="nav-list">
                <li><a href="index.html">Home</a></li>
                <li><a href="action-journal.html">Action Journal</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <h2>Here are the latest workouts recorded in uphill skiing mecca San Diego</h2>
        <div class="post-container" id="post-container"></div>
    </main>

    <footer>
        <p>&copy; 2024 San Diego Skimo Community</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
   <script>
    async function loadPosts() {
        const container = document.getElementById("post-container");

        // Fetch index.json to get the list of posts
        const response = await fetch("posts/index.json");
        const posts = await response.json();

        // Display the latest 5 posts
        posts.slice(0, 5).forEach(post => {
            const postHTML = `
                <div class="post">
                    <h2>${post.title}</h2>
                    <p><strong>Date:</strong> ${post.date}</p>
                    <p><strong>Distance:</strong> ${post.distance || "N/A"}</p>
                    <p><strong>Elevation Gain:</strong> ${post.elevation || "N/A"}</p>
                    <p><strong>Time:</strong> ${post.time || "N/A"}</p>
                    <a href="posts/${post.filename}" class="cta-button">Read more</a>
                </div>
            `;
            container.insertAdjacentHTML('beforeend', postHTML);
        });
    }

    loadPosts();
</script>

</body>
</html>
